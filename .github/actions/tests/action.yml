name: tests
inputs:
  environment:
    required: true
runs:
  using: composite
  steps:
    - name: echo 
      run: echo Tests on ${{inputs.environment}} has started
      shell: cmd
    - name: list
      run: pm2 list
      shell: cmd
    - name: clone
      uses: actions/checkout@v4
      with:
        repository: mtararujs/course-js-api-framework
        path: tests
    - name: install
      run: npm install
      shell: cmd
      working-directory: tests
    - name: run
      run:   npm run greetings greetings_${{inputs.environment}}
      shell: cmd
      working-directory: tests